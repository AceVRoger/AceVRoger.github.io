<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Event Listener Demo</title>
    <style>
        #box {
            width: 200px;
            height: 200px;
            background-color: lightblue;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            border: 2px solid black;
            text-align: center;
        }
		
		#child {
			background-color: green;
			border: 2px solid black;
			width: 50px;
			height: 50px;
		}
    </style>
</head>
<body>

    <h1>Event Listener Demo</h1>
    <p>Interact with the box below:</p>
    
    <div id="box">
		<div id='child'>
		</div>	
	</div>
	
	<br>
	<p>Key events in a focusable field.</p>
	<input id='field'>
	
	<br>
	<p>Event handling for dynamically added elements.</p>
	<button id="addButton">New Button</button>
	
	<br><br>
	<div id="container"></div>

    <script>
        // Event Handler: a mechanism that sits around and waits for something to happen.

        const box = document.getElementById("box");

        // Mouse Events: click, dblclick, mouseup, mouesdown, mouseenter, mouseover,
        // mouseleave, mouseout and mousemove
        box.addEventListener('click', (event)=> {
            console.log(event);
            console.log('Something happened.');
        });

        // Keyboard Events: keypress, keydown, keyup
        document.getElementById('field').addEventListener('keypress', (event)=> {
            console.log("key:" + event.key);
        });

        document.getElementById('addButton').addEventListener('click', ()=> {
            const newButton = document.createElement('button');
            newButton.textContent = 'Click Me!'
            //newButton.setAttribute('id', 'dynamic=btn');
            newButton.classList.add('dynamic-btn');

            document.getElementById('container').appendChild(newButton);
        });

        //document.getElementById('dynamic-btn').addEventListener('click', ()=> {alert('I have been clicked!')});

        // add listener to parent
        document.getElementById('container').addEventListener('click', ()=> {

            // Then check if the clicked element belongs to the right class
            if (event.target.classList.contains('dynamic-btn'))
                alert('I have been clicked!');
        });
		
    </script>

</body>
</html>
